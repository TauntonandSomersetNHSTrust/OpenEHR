{"name":"formPull::Height","category":"view","description":"Pulls Most Recent Height From openEHR-EHR-OBSERVATION.height.v2 using EHR ID","metaData":"{\r\n  \"parameters\": [\r\n      {\r\n          \"name\": \"ehrId\",\r\n          \"type\": \"string\",\r\n          \"description\": \"Ehr id\"\r\n      }\r\n  ]\r\n}","steps":[{"processorName":"jsonFtlAql","processorData":"select\r\n    a/context/start_time/value as dateCompositionSubmitted,\r\n    a/name/value as source,\r\n    a_a/data[at0001]/events[at0002]/data[at0003]/items[at0004]/value/magnitude as Magnitude,\r\n    a_a/data[at0001]/events[at0002]/data[at0003]/items[at0004]/value/units as Units,\r\n    a_a/protocol[at0007]/items[openEHR-EHR-CLUSTER.reporting_status.v0]/items[at0001]/value as inputtype,\r\n    e/ehr_id/value as EHRID\r\nfrom EHR e [ehr_id/value=:ehrId]\r\ncontains COMPOSITION a\r\ncontains OBSERVATION a_a[openEHR-EHR-OBSERVATION.height.v2]\r\nwhere inputtype = 'Actual' OR inputtype = 'Reported'\r\norder by dateCompositionSubmitted desc\r\noffset 0 limit 1"}]}