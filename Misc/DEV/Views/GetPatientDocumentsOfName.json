{"name":"GetPatientDocumentsOfName","category":"view","description":"Get last n document of x name","metaData":"{\r\n    \"parameters\": [\r\n        {\r\n            \"name\": \"offset\",\r\n            \"type\": \"number\",\r\n            \"description\": \"Lower limit\"\r\n        },\r\n        {\r\n            \"name\": \"limit\",\r\n            \"type\": \"number\",\r\n            \"description\": \"Upper limit\"\r\n        },\r\n        {\r\n            \"name\": \"name\",\r\n            \"type\": \"string\",\r\n            \"description\": \"Name string\"\r\n        },\r\n        {\r\n            \"name\": \"ehrId\",\r\n            \"type\": \"string\",\r\n            \"description\": \"EHR Record ID\"\r\n        }\r\n    ]\r\n}","steps":[{"processorName":"jsonFtlAql","processorData":"select\r\n    e/ehr_id/value as ehrID,\r\n    a/uid/value as uid,\r\n    a/name/value as name,\r\n    a/content/data[at0001]/items[at0003]/value,\r\n    v/commit_audit/time_committed/value as created\r\nfrom EHR e\r\ncontains COMPOSITION a\r\ncontains VERSION v\r\nwhere\r\n    a/name = :name and\r\n    e/ehr_id/value = :ehrId\r\norder by created desc\r\noffset :offset limit :limit"}]}