{"name":"getLastCompositionFromTemplateID","category":"view","description":"getLastCompositionFromTemplateID","metaData":"{\r\n    \"parameters\": [\r\n        {\r\n            \"name\": \"templateID\",\r\n            \"type\": \"string\",\r\n            \"description\": \"Upper limit\"\r\n        },\r\n        {\r\n            \"name\": \"archetypeID\",\r\n            \"type\": \"string\",\r\n            \"description\": \"Upper limit\"\r\n        },\r\n        {\r\n            \"name\": \"limit\",\r\n            \"type\": \"number\",\r\n            \"description\": \"Upper limit\"\r\n        }\r\n    ]\r\n}","steps":[{"processorName":"jsonFtlAql","processorData":"select\r\n    a/name/value,\r\n    a/context/start_time/value as created,\r\n    e/ehr_id/value as ehr_id,\r\n    e/ehr_status/subject/external_ref/id/value as mrn,\r\n    e/ehr_status/subject/external_ref/namespace as authority,\r\n    squash(a_a)\r\nfrom EHR e contains\r\ntop 1\r\nCOMPOSITION a\r\ncontains EVALUATION a_a:archetypeID\r\nwhere\r\n    a/archetype_details/template_id/value=:templateID\r\norder by created desc\r\noffset 0 limit 100"}]}